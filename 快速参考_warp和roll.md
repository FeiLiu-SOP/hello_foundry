# vm.warp å’Œ vm.roll å¿«é€Ÿå‚è€ƒ

## ğŸš€ vm.warp(timestamp) - æ—¶é—´è·³è·ƒ

### åŸºæœ¬ç”¨æ³•
```solidity
vm.warp(block.timestamp + 30 days);  // è·³åˆ° 30 å¤©å
```

### ä½œç”¨
- âœ… ä¿®æ”¹ `block.timestamp`ï¼ˆå½“å‰åŒºå—æ—¶é—´ï¼‰
- âŒ ä¸å½±å“ `block.number`ï¼ˆåŒºå—å·ï¼‰

### å¸¸ç”¨åœºæ™¯
- æµ‹è¯•é”ä»“ 30 å¤©ï¼šä¸ç”¨ç­‰ 30 å¤©ï¼Œç›´æ¥ warp è¿‡å»
- æµ‹è¯•æ—¶é—´ç›¸å…³çš„å¥–åŠ±
- æµ‹è¯•è´¨æŠ¼è§£é”

### ç¤ºä¾‹
```solidity
// é”ä»“
timeLock.lock{value: 10 ether}();

// è·³åˆ° 30 å¤©å
vm.warp(block.timestamp + 30 days);

// ç°åœ¨å¯ä»¥æå–äº†
timeLock.withdraw();
```

---

## ğŸ”¢ vm.roll(blockNumber) - ä¿®æ”¹åŒºå—å·

### åŸºæœ¬ç”¨æ³•
```solidity
vm.roll(1000);  // è·³åˆ°åŒºå— 1000
```

### ä½œç”¨
- âœ… ä¿®æ”¹ `block.number`ï¼ˆå½“å‰åŒºå—å·ï¼‰
- âŒ ä¸å½±å“ `block.timestamp`ï¼ˆæ—¶é—´ï¼‰

### å¸¸ç”¨åœºæ™¯
- æµ‹è¯•æ¯ N ä¸ªåŒºå—æ‰§è¡Œä¸€æ¬¡çš„é€»è¾‘
- æµ‹è¯•åŒºå—å·ç›¸å…³çš„æ¡ä»¶åˆ¤æ–­

### ç¤ºä¾‹
```solidity
// å½“å‰æ˜¯åŒºå— 100
doSomething();

// è·³åˆ°åŒºå— 200
vm.roll(200);

// ç°åœ¨å¯ä»¥æ‰§è¡Œæ¯ 100 ä¸ªåŒºå—çš„æ“ä½œäº†
doSomething();
```

---

## ğŸ“Š å¯¹æ¯”è¡¨

| | vm.warp | vm.roll |
|---|---|---|
| **ä¿®æ”¹ä»€ä¹ˆ** | `block.timestamp` | `block.number` |
| **ä¸å½±å“** | `block.number` | `block.timestamp` |
| **å¸¸ç”¨åœºæ™¯** | æ—¶é—´é”ã€è´¨æŠ¼è§£é” | åŒºå—å·ç›¸å…³é€»è¾‘ |

---

## â° æ—¶é—´å•ä½

```solidity
1 seconds  // 1 ç§’
1 minutes  // 1 åˆ†é’Ÿ
1 hours    // 1 å°æ—¶
1 days     // 1 å¤©
1 weeks    // 1 å‘¨
```

---

## ğŸ’¡ å®é™…ä¾‹å­

### æµ‹è¯•é”ä»“ 30 å¤©
```solidity
// é”ä»“
lock(10 ether);

// è·³åˆ° 30 å¤©å
vm.warp(block.timestamp + 30 days);

// æå–
withdraw();
```

### æµ‹è¯•åŒºå—å·é€»è¾‘
```solidity
// åŒºå— 100
doSomething();

// è·³åˆ°åŒºå— 200
vm.roll(200);

// æ‰§è¡Œæ“ä½œ
doSomething();
```

---

## ğŸ¯ å…³é”®ç‚¹

1. **vm.warp** = æ—¶é—´è·³è·ƒï¼Œåªæ”¹æ—¶é—´
2. **vm.roll** = åŒºå—å·è·³è·ƒï¼Œåªæ”¹åŒºå—å·
3. **ä¸¤è€…äº’ä¸å½±å“**
4. **å¯ä»¥è¿ç»­ä½¿ç”¨**
